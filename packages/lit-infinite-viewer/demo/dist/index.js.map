{"version":3,"file":"index.js","sources":["../../src/LitInfiniteViewer.ts","../index.ts"],"sourcesContent":["import { LitElement, html, customElement, property } from \"lit-element\";\nimport VanillaInfiniteViewer, {\n    InfiniteViewerProperties, OPTION_TYPES,\n    EVENTS, PROPERTIES, InfiniteViewerMethods, METHODS\n} from \"infinite-viewer\";\nimport { Properties, withMethods, MethodInterface } from \"framework-utils\";\nimport { camelize } from \"@daybrush/utils\";\n\n@Properties(PROPERTIES as any, (prototype, name) => {\n    property({ type: OPTION_TYPES[name] })(prototype, name);\n})\n@customElement(\"lit-infinite-viewer\")\nexport class LitInfiniteViewer extends LitElement {\n    @withMethods(METHODS as any, {\n        click: \"clickViewer\",\n        scrollTo: \"scrollToViewer\",\n        scrollBy: \"scrollByViewer\",\n    })\n    private infiniteViewer!: VanillaInfiniteViewer;\n    public firstUpdated() {\n        const options: Partial<InfiniteViewerProperties> = {};\n\n        PROPERTIES.forEach(name => {\n            if (typeof this[name] !== \"undefined\") {\n                options[name as any] = this[name];\n            }\n        });\n        const viewport = this.children[0] as HTMLElement;\n\n        this.infiniteViewer = new VanillaInfiniteViewer(\n            this,\n            viewport,\n            {\n                ...options,\n            },\n        );\n\n        const infiniteViewer = this.infiniteViewer;\n\n        EVENTS.forEach((name, i) => {\n            infiniteViewer.on(name, e => {\n                const result = this.dispatchEvent(new CustomEvent(camelize(`lit ${name}`), {\n                    detail: { ...e },\n                }));\n\n                if (result === false) {\n                    (e as any).stop();\n                }\n            });\n        });\n    }\n    public render() {\n        return html`<div class=\"infinite-viewer-wrapper\">\n        <div class=\"infinite-viewer-scroll-area\"></div>\n        <slot></slot>\n      </div>\n      <div class=\"infinite-viewer-scroll-bar infinite-viewer-horizontal-scroll-bar\">\n        <div class=\"infinite-viewer-scroll-thumb\"></div>\n      </div>\n      <div class=\"infinite-viewer-scroll-bar infinite-viewer-vertical-scroll-bar\">\n        <div class=\"infinite-viewer-scroll-thumb\"></div>\n      </div>`;\n    }\n    public updated(changedProperties) {\n        const infiniteViewer = this.infiniteViewer;\n        changedProperties.forEach((oldValue, propName) => {\n            if (PROPERTIES.indexOf(propName)) {\n                infiniteViewer[propName] = this[propName];\n            }\n        });\n    }\n    public disconnectedCallback() {\n        super.disconnectedCallback();\n        this.infiniteViewer.destroy();\n    }\n}\nexport interface LitInfiniteViewer extends InfiniteViewerProperties,\n    MethodInterface<InfiniteViewerMethods, VanillaInfiniteViewer, LitInfiniteViewer, {\n        \"click\": \"clickViewer\",\n        \"scrollTo\": \"scrollToViewer\",\n        \"scrollBy\": \"scrollByViewer\",\n    }> { }\n\ndeclare global {\n    interface HTMLElementTagNameMap {\n        \"lit-infinite-viewer\": LitInfiniteViewer;\n    }\n}\n","import { html } from \"lit-element\";\nimport { render } from \"lit-html\";\nimport \"../src/LitInfiniteViewer\";\n\nrender(html`\n<lit-infinite-viewer class=\"viewer\">\n    <div class=\"viewport\"></div>\n</lit-infinite-viewer>`, document.body);\n"],"names":["LitInfiniteViewer","LitElement","firstUpdated","options","PROPERTIES","forEach","name","viewport","children","infiniteViewer","VanillaInfiniteViewer","EVENTS","i","on","e","result","dispatchEvent","CustomEvent","camelize","detail","stop","render","html","updated","changedProperties","oldValue","propName","indexOf","disconnectedCallback","destroy","__decorate","withMethods","METHODS","click","scrollTo","scrollBy","Properties","prototype","property","type","OPTION_TYPES","customElement","document","body"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYA,IAAaA,iBAAiB,GAA9B,MAAaA,iBAAb,SAAuCC,UAAvC;IAOWC,EAAAA,YAAY;IACf,UAAMC,OAAO,GAAsC,EAAnD;IAEAC,IAAAA,UAAU,CAACC,OAAX,CAAmBC,IAAI;IACnB,UAAI,OAAO,KAAKA,IAAL,CAAP,KAAsB,WAA1B,EAAuC;IACnCH,QAAAA,OAAO,CAACG,IAAD,CAAP,GAAuB,KAAKA,IAAL,CAAvB;IACH;IACJ,KAJD;IAKA,UAAMC,QAAQ,GAAG,KAAKC,QAAL,CAAc,CAAd,CAAjB;IAEA,SAAKC,cAAL,GAAsB,IAAIC,cAAJ,CAClB,IADkB,EAElBH,QAFkB,oBAIXJ,QAJW,CAAtB;IAQA,UAAMM,cAAc,GAAG,KAAKA,cAA5B;IAEAE,IAAAA,MAAM,CAACN,OAAP,CAAe,CAACC,IAAD,EAAOM,CAAP;IACXH,MAAAA,cAAc,CAACI,EAAf,CAAkBP,IAAlB,EAAwBQ,CAAC;IACrB,cAAMC,MAAM,GAAG,KAAKC,aAAL,CAAmB,IAAIC,WAAJ,CAAgBC,QAAQ,QAAQZ,MAAR,CAAxB,EAAyC;IACvEa,UAAAA,MAAM,oBAAOL;IAD0D,SAAzC,CAAnB,CAAf;;IAIA,YAAIC,MAAM,KAAK,KAAf,EAAsB;IACjBD,UAAAA,CAAS,CAACM,IAAV;IACJ;IACJ,OARD;IASH,KAVD;IAWH;;IACMC,EAAAA,MAAM;IACT,WAAOC;;;;;;;;;aAAP;IAUH;;IACMC,EAAAA,OAAO,CAACC,iBAAD;IACV,UAAMf,cAAc,GAAG,KAAKA,cAA5B;IACAe,IAAAA,iBAAiB,CAACnB,OAAlB,CAA0B,CAACoB,QAAD,EAAWC,QAAX;IACtB,UAAItB,UAAU,CAACuB,OAAX,CAAmBD,QAAnB,CAAJ,EAAkC;IAC9BjB,QAAAA,cAAc,CAACiB,QAAD,CAAd,GAA2B,KAAKA,QAAL,CAA3B;IACH;IACJ,KAJD;IAKH;;IACME,EAAAA,oBAAoB;IACvB,UAAMA,oBAAN;IACA,SAAKnB,cAAL,CAAoBoB,OAApB;IACH;;KA9DL;;IAMIC,YALCC,WAAW,CAACC,OAAD,EAAiB;IACzBC,EAAAA,KAAK,EAAE,aADkB;IAEzBC,EAAAA,QAAQ,EAAE,gBAFe;IAGzBC,EAAAA,QAAQ,EAAE;IAHe,CAAjB,0DAKZ;;IANSnC,iBAAiB,eAJ7BoC,UAAU,CAAChC,UAAD,EAAoB,CAACiC,SAAD,EAAY/B,IAAZ;IAC3BgC,EAAAA,QAAQ,CAAC;IAAEC,IAAAA,IAAI,EAAEC,YAAY,CAAClC,IAAD;IAApB,GAAD,CAAR,CAAuC+B,SAAvC,EAAkD/B,IAAlD;IACH,CAFU,GAGVmC,aAAa,CAAC,qBAAD,IACDzC,kBAAA;;ICRbqB,MAAM,CAACC;;;uBAAD,EAGmBoB,QAAQ,CAACC,IAH5B,CAAN;;;;"}